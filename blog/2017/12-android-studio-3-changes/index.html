<!DOCTYPE html>
<html lang="zh-CN">

<head>

<script async src="https://www.googletagmanager.com/gtag/js?id=UA-165266655-1"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'UA-165266655-1');
</script>




<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="format-detection" content="telephone=no">
<meta name="format-detection" content="date=no">
<meta name="format-detection" content="address=no">
<meta name="format-detection" content="email=no">
<meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">


<meta name="description" content="Android Studio 3 发布有段时间了，之前看到的是测试版就一直用着 2.2.3 没更新。前段时间项目模块升级，Android Studio 的更新提示已经是 3.0.1 正式版了，于是就对开发环境也做了一次升级。本文说几点 Android Studio 3.0.1 的几点变化，不是全面介绍 Android Studio 3 的新特性，而是一些项目迁移过程中感受到的 Android Studio 3.0.1 相对于 Android Studio 2.2.3 的几点变化。">
<meta name="keywords" content='Android-Studio'>
<meta name="author" content="XinLake">


<meta property="og:title" content="Android Studio 3 几点变化 | XinLake" />

<meta property="og:image" content="https://xinlake.life/blog/2017/12-android-studio-3-changes/about.png" />

<meta property="og:description" content="Android Studio 3 发布有段时间了，之前看到的是测试版就一直用着 2.2.3 没更新。前段时间项目模块升级，Android Studio 的更新提示已经是 3.0.1 正式版了，于是就对开发环境也做了一次升级。本文说几点 Android Studio 3.0.1 的几点变化，不是全面介绍 Android Studio 3 的新特性，而是一些项目迁移过程中感受到的 Android Studio 3.0.1 相对于 Android Studio 2.2.3 的几点变化。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://xinlake.life/blog/2017/12-android-studio-3-changes/" />
<meta property="og:locale" content="zh-CN" />
<meta name="generator" content="Hugo 0.76.5" />

<title>Android Studio 3 几点变化 | XinLake</title>
<link rel="canonical" href="https://xinlake.life/blog/2017/12-android-studio-3-changes/" />
<link rel="alternate" href="https://xinlake.life/blog/index.xml" type="application/rss+xml" title="XinLake">


<link rel="shortcut icon" href="/images/logo-v2.1.png" type="image/x-icon" />
<link rel="icon" href="/images/logo-v2.1.png" type="image/x-icon" />


<link rel="stylesheet" href="/library/bootstrap-4.5.2/css/bootstrap.min.css" />
<link rel="stylesheet" href="/library/fontawesome-free-5.15.1-web/css/all.min.css" />
<link rel="stylesheet" href="/library/highlight-10.0.1/styles/foundation.css" />

<link rel="stylesheet" href="/assets/style.css" media="screen">
     
</head>

<body><header id="header" class="headroom">
    <div class="container">
        <nav class="navbar navbar-expand-lg navbar-dark">
            <a class="site-title" href="https://xinlake.life/">
                XinLake
            </a>

            <button class="navbar-toggler border-0" type="button" data-toggle="collapse" data-target="#navogation"
                aria-controls="navogation" aria-expanded="false" aria-label="toggle-navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navogation">
                <ul class="nav justify-content-end ml-auto">
                    
                    <li class="nav-item">
                        <a class="nav-link text-light" href="/blog">Posts</a>
                    </li>
                    
                    <li class="nav-item">
                        <a class="nav-link text-light" href="/archive">Archive</a>
                    </li>
                    
                </ul>

                
                <form action="https://xinlake.life//search">
                    <input class="form-control search-input" type="text" placeholder="Search" id="search-query" name="s" />
                </form>
            </div>
        </nav>
    </div>
</header>


<div class="container flex-grow-1 mb-5" style="margin-top: 10rem;">
    <div class="row justify-content-center">
        <div class="col-12">
            
<a href="https://xinlake.life/blog/2017/12-android-studio-3-changes/">
    <h2 class="text-dark font-weight-bold mb-3">Android Studio 3 几点变化</h2>
</a>


<div class="text-secondary mb-4">
    <ul class="list-inline text-secondary mb-0">
        <li class="list-inline-item">
            <i class="far fa-file-alt"></i>
            <span>2017-12-26</span>
        </li>
        <li class="list-inline-item">
            
            <a class="text-secondary" href="/archive/"><i class="fas fa-folder"></i></a>
            <a class="badge badge-light" href="/categories/Android/">Android</a>
        </li>
    </ul>
</div>

            <article class="content mt-2 mb-4">
                <p>Android Studio 3 发布有段时间了，之前看到的是测试版就一直用着 2.2.3 没更新。前段时间项目模块升级，Android Studio 的更新提示已经是 3.0.1 正式版了，于是就对开发环境也做了一次升级。本文说几点 Android Studio 3.0.1 的几点变化，不是全面介绍 Android Studio 3 的新特性，而是一些项目迁移过程中感受到的 Android Studio 3.0.1 相对于 Android Studio 2.2.3 的几点变化。</p>
<div class="text-center pt-2 pb-3">
    <img class="img-fluid" src='about.png' title=''></img>
    
    <div class="text-black-50">Android Studio 3.0.1</div>
    
</div>
<h2 id="自带-openjdk">自带 OpenJDK</h2>
<p>Android Studio 3.0.1 已经自带了 JDK，不需要安装 JDK 即可以正常运行。adb 程序也可以独立运行（不需要打开 Android Studio，不需要安装 JDK）。安装 Android Studio 后只需要下载必要的 sdk 即可。</p>
<div class="text-center pt-2 pb-3">
    <img class="img-fluid" src='jdk.jpg' title=''></img>
    
    <div class="text-black-50">Android Studio 3.0.1 自带 JDK</div>
    
</div>
<p>打开 &ldquo;Project Structure&rdquo; 选项可以看到 JDK 相关的设置，这里可以看到 &ldquo;Use embedded JDK(recommended)&rdquo; 即“使用内置的 JDK（推荐）”默认处于勾选状态，并且下方有 jre 的路径（Android Studio 位于 D:\AndroiDev\android-studio）。再到 D:\AndroiDev\android-studio\jre 下查看 java 版本，显示 OpenJDK</p>
<div class="text-center pt-2 pb-3">
    <img class="img-fluid" src='jdk-location.jpg' title=''></img>
    
    <div class="text-black-50">JDK 默认设置</div>
    
</div>
<h2 id="快速文档">快速文档</h2>
<p>按 Ctrl+Q 即会弹出鼠标所选内容的技术文档，该功能在 Android Studio 2.2.3 时加载文档很慢，看一个 Method 的文档等上几十秒都有可能。StackOverFlow 上有人找到了原因并给出了解决方法（快速文档功能首先会尝试打开在线内容，没有在线内容再使用本地，有些区域无法连接在线文档，即导致文档加载慢的问题，修改 jdk.table.xml 指向本地文档可解决）。这一问题在 Android Studio 3.0.1 里已经不存在了，SDK 里安装 &ldquo;Documentation for Android SDK&rdquo; 看文档 Ctrl+Q 秒开。</p>
<div class="text-center pt-2 pb-3">
    <img class="img-fluid" src='document.png' title=''></img>
    
    <div class="text-black-50">离线文档</div>
    
</div>
<h2 id="模块依赖">模块依赖</h2>
<p>你可能已经发现，Android Studio 3.0.1 项目模块的 build.gradle 里 dependencies 配置已经从旧版的 &ldquo;compile&rdquo; 变成了 &ldquo;implementation&rdquo;。<br>
比如：<code>compile fileTree(dir: 'libs', include: ['*.jar'])</code><br>
变为：<code>implementation fileTree(dir: 'libs', include: ['*.jar'])</code><br>
对于这样的变化，gradle 官方文档有解释，章节 49.2 提到 &ldquo;compile&rdquo; 配置目前存在但不应当再使用，应当使用 &ldquo;api&rdquo; 或 &ldquo;implementation&rdquo;，还说明了两者的区别。官方原文：<a href="https://docs.gradle.org/current/userguide/java_library_plugin.html#sec:java_library_separation">java_library_separation</a></p>
<blockquote>
<p>The plugin exposes two configurations that can be used to declare dependencies: api and implementation. The api configuration should be used to declare dependencies which are exported by the library API, whereas the implementation configuration should be used to declare dependencies which are internal to the component.</p>
</blockquote>
<blockquote>
<p><em>（翻译）插件公开了两种可用于声明依赖项的配置: &ldquo;api&rdquo; 和 &ldquo;implementation&rdquo;。&ldquo;api&rdquo; 配置应当用于声明由库 API 导出的依赖项, 而 &ldquo;implementation&rdquo; 配置应当用于声明组件内部的依赖项。</em></p>
</blockquote>
<blockquote>
<p>Note: The compile configuration still exists but should not be used as it will not offer the guarantees that the api and implementation configurations provide.</p>
</blockquote>
<blockquote>
<p><em>（翻译）注意：&ldquo;compile&rdquo; 配置仍然存在，但不应使用，因为它不会提供的 &ldquo;api&rdquo; 和 &ldquo;implementation&rdquo; 配置所提供保障。</em></p>
</blockquote>
<p>就是说，如果不想让依赖项暴露给外部（让外部不可调用）则使用 implementation，估计这个配置适用大部分情况。如果模块的依赖项目需要给外部使用则用 &ldquo;api&rdquo;。</p>
            </article>

            
<ul class="list-inline text-secondary mb-1">
    
    <li class="list-inline-item">
        <a class="text-secondary" href="/archive/"><i class="fas fa-tags"></i></a>
    </li>
    
    <li class="list-inline-item">
        <a class="badge badge-secondary" href="/tags/Android-Studio/">Android-Studio</a>
    </li>
    
    
</ul>


<hr class="my-1" />

<div class="d-flex justify-content-between mb-4">
    
    <div class="align-self-center text-secondary">
        <i class="far fa-edit"></i>
        <span>2017-12-26</span>
    </div>

    
    <div class="dropdown">
        <button class="btn btn-transparent p-0" type="button" id="share_button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            <i class="fas fa-share-alt-square fa-2x"></i>
        </button>
        <div class="dropdown-menu dropdown-menu-right text-center" aria-labelledby="share_button">
            <div class="d-flex justify-content-around">
                <a href="https://www.facebook.com/sharer.php?u=https%3a%2f%2fxinlake.life%2fblog%2f2017%2f12-android-studio-3-changes%2f" target="_blank" title="Facebook">
                    <i class="fab fa-facebook-square fa-2x px-1"></i>
                </a>
                <a href="https://twitter.com/intent/tweet?text=Android%20Studio%203%20%e5%87%a0%e7%82%b9%e5%8f%98%e5%8c%96&url=https%3a%2f%2fxinlake.life%2fblog%2f2017%2f12-android-studio-3-changes%2f" target="_blank" title="Twitter">
                    <i class="fab fa-twitter fa-2x px-1"></i>
                </a>
                <a href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fxinlake.life%2fblog%2f2017%2f12-android-studio-3-changes%2f" target="_blank" title="LinkedIn">
                    <i class="fab fa-linkedin fa-2x px-1"></i>
                </a>
            </div>
            
            <hr class="my-1" />

            
            <div class="text-center mb-0">
                <img src="https://api.imjad.cn/qrcode?text=https%3a%2f%2fxinlake.life%2fblog%2f2017%2f12-android-studio-3-changes%2f&logo=&size=200&level=M&bgcolor=%23ffffff&fgcolor=%23000000"/>
            </div>
        </div>
    </div>
</div>
            <div id="disqus_thread"></div>
<script>
    

    (function () { 
        if (window.location.hostname == "localhost")
            return;

        var d = document, s = d.createElement('script');
        s.src = 'https://xinlake-life.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript</noscript>
        </div>
    </div>
    <div class="row justify-content-center">
        
        <div class="col-auto mx-auto">
            
            <div>
                <a href="https://xinlake.life/blog/2018/02-sagit-new-experience/">
                    <i class="fas fa-arrow-left"></i>
                    <span>小米 6 刷机，卸载全家桶</span>
                </a>
            </div>
            
            
            <div>
                <a href="https://xinlake.life/blog/2017/09-film-impressions/">
                    <i class="fas fa-arrow-right"></i>
                    <span>电影印象 2007-2017</span>
                </a>
            </div>
            
        </div>
    </div>
</div>

<footer class="bg-dark pt-3 pb-2">
    <div class="container">
        <div class="d-flex justify-content-between">
            
            <div class="d-flex align-items-center">
                <span class="text-secondary">
                    Copyright ©
                    <script>var CurrentYear = new Date().getFullYear(); document.write(CurrentYear)</script>&nbsp
                </span>
                <a href="mailto:xinlake@outlook.com">
                    <span class="text-secondary">XinLake</span>
                </a>
            </div>

            
            <div class="align-self-center">
                <ul class="list-inline mb-0">
                    <li class="list-inline-item">
                        <a href="mailto:xinlake@outlook.com">
                            <h3 class="footer-feed px-2"><i class="fas fa-envelope"></i></h3>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="https://xinlake.life/blog/index.xml" title="Blog RSS">
                            <h3 class="footer-feed px-2"><i class="fas fa-rss"></i></h3>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</footer>

<script>
    var indexURL = "https:\/\/xinlake.life\/index.json"
</script>


<script src="/library/jquery-3.5.1.min.js"></script>
<script src="/library/bootstrap-4.5.2/js/bootstrap.bundle.min.js"></script>
<script src="/library/headroom-0.11.0/headroom.min.js"></script>
<script src="/library/search/fuse.min.js"></script>
<script src="/library/search/mark.js"></script>
<script src="/library/search/search.js"></script>
<script src="/library/highlight-10.0.1/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>


<script src="/assets/script.js"></script>
     
</body>

</html>